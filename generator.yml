- pipeline: "generator"
  on: "CLICK"
  auto_clear_cache: false
  always_from_scratch: true
  no_skip_to_most_recent: true
  fail_on_prepare_env_warning: true
  resources: "NANO"
  actions:
  - action: "Execute echo \"running generator\""
    type: "BUILD"
    docker_image_name: "library/ubuntu"
    docker_image_tag: "20.04"
    execute_commands:
    - env
    - pwd
    - ls -ltrh
    - ls -ltrh /data/input/
    - exit 1
    shell: "BASH"
    volume_mappings:
    - "/$BUDDY_EXECUTION_PULL_REQUEST_NO/:/data/input/"
    variables:
    - key: "CDA_BUFFER_REPO"
      value: "!CDA_BUFFER_REPO"
      type: "VAR"
    - key: "CDA_BUFFER_REPO_BRANCH"
      value: "!CDA_BUFFER_REPO_BRANCH"
      type: "VAR"
    - key: "GITHUB_TOKEN"
      value: "!GITHUB_TOKEN"
      type: "VAR"
      encrypted: true
    - key: "CDA_CUSTOMER_CONFIGS"
      value: "/data/input/"
      type: "VAR"
    # - key: "BUDDY_EXECUTION_PULL_REQUEST_NO" # set from validator pipeline
    # - key: "BUDDY_SCM_URL" # set from validator pipeline
    # - key: "GITFLOW_PIPELINE" # set from validator pipeline
    # - key: "RETRIGGER_PIPELINE" # set from validator pipeline
    # - key: "CDA_OUTPUT_LOCATION" # set from validator pipeline
    
